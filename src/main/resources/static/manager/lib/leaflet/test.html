<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
</body>
<script src="../layer/jquery.min.js"></script>
<script src="../layer/layer.js"></script>
<script src="plugin-js/index.js"></script>
<script src="plugin-js/PromiseQueue.js"></script>
<script src="plugin-js/marker.js"></script>
<script src="plugin-js/draw.js"></script>
<script src="plugin-js/geoman.js"></script>
<script src="plugin-js/Graphic.js"></script>
<script src="plugin-js/TimeSlider.js"></script>
<script>
    let __geo__ = {"type":"MultiPolygon","coordinates":[[[[144.3358917236328,43.709648132324155],[144.35313415527355,43.72118759155266],[144.36195373535156,43.72639083862304],[144.36555480957043,43.72949981689454],[144.36782836914074,43.73242950439457],[144.3699951171875,43.73765945434574],[144.3724822998047,43.748794555664055],[144.37860107421875,43.76194763183593],[144.38548278808594,43.78075790405273],[144.38612365722668,43.78435897827147],[144.38624572753906,43.788024902343864],[144.38482666015625,43.79669952392582],[144.37741088867188,43.80178070068358],[144.3756561279298,43.803565979003956],[144.37409973144543,43.805988311767614],[144.37265014648438,43.80991744995115],[144.37213134765625,43.81291580200207],[144.37222290039074,43.816024780273544],[144.37321472167972,43.820259094238374],[144.38023376464855,43.82025527954107],[144.3840332031251,43.825740814208984],[144.38653564453136,43.82849502563481],[144.38812255859375,43.830780029296875],[144.38935852050793,43.83358764648448],[144.3946990966798,43.84927368164061],[144.39605712890636,43.85205841064458],[144.39787292480472,43.85430145263676],[144.40216064453136,43.8579254150391],[144.40501403808605,43.86082077026368],[144.40835571289062,43.861782073974595],[144.41050720214855,43.86258697509777],[144.41250610351562,43.863685607910206],[144.4133758544923,43.864360809326236],[144.41470336914074,43.86578369140631],[144.41595458984375,43.86768341064458],[144.4184112548828,43.87290573120122],[144.41941833496094,43.876422882080185],[144.42388916015636,43.884284973144574],[144.4263916015626,43.891296386718814],[144.4270477294922,43.89450073242187],[144.42857360839844,43.90754318237304],[144.4305877685548,43.91481781005871],[144.43084716796875,43.91769409179699],[144.4307556152345,43.91853332519531],[144.43093872070324,43.91841125488287],[144.43124389648438,43.91834259033203],[144.4312896728518,43.917881011962876],[144.4323272705078,43.917762756347656],[144.43328857421875,43.917762756347656],[144.4338836669922,43.91779708862316],[144.4341278076172,43.91759109497081],[144.4343414306643,43.91733551025402],[144.43458557128918,43.91708755493165],[144.43484497070312,43.916843414306754],[144.43511962890636,43.91661071777342],[144.43528747558616,43.91633987426758],[144.43544006347656,43.91609573364268],[144.43557739257812,43.915847778320305],[144.4357147216798,43.914939880371094],[144.43580627441406,43.91429519653326],[144.43627929687514,43.9138221740722],[144.43692016601562,43.91364669799803],[144.4379577636721,43.91376495361328],[144.4387664794923,43.91400146484379],[144.43948364257838,43.91405868530274],[144.4404449462893,43.91411590576164],[144.4404449462893,43.91447067260747],[144.44084167480483,43.915058135986385],[144.4412536621095,43.915409088134744],[144.4414062500001,43.91564559936529],[144.44187927246094,43.916290283203175],[144.44244384765625,43.91658401489262],[144.4434814453125,43.917114257812614],[144.4438934326173,43.91758346557628],[144.44422912597656,43.91844177246103],[144.44456481933597,43.91915893554692],[144.44448852539074,43.92004013061529],[144.4445343017578,43.92028808593755],[144.44429016113293,43.92093658447276],[144.44334411621105,43.92159271240234],[144.4429626464845,43.921909332275455],[144.44252014160156,43.92221832275396],[144.44207763671875,43.92252731323247],[144.4416503906251,43.92287063598637],[144.44123840332043,43.92317962646488],[144.44076538085938,43.92339324951178],[144.44026184082043,43.923561096191435],[144.43972778320324,43.92367172241215],[144.43922424316406,43.92388153076172],[144.43873596191418,43.92411041259771],[144.43815612792991,43.924301147461],[144.43736267089844,43.92429351806648],[144.43663024902366,43.92416000366211],[144.43556213378906,43.924217224121044],[144.4346923828125,43.923862457275426],[144.43228149414074,43.923862457275426],[144.431640625,43.92380523681651],[144.43064880371094,43.92349243164063],[144.43019104003918,43.9237937927246],[144.4312744140625,43.924491882324276],[144.4316864013673,43.92466735839843],[144.43223571777366,43.924785614013736],[144.4335174560547,43.92531585693369],[144.4340057373048,43.925960540771534],[144.4348907470703,43.925960540771534],[144.43553161621105,43.926136016845746],[144.43617248535156,43.92649078369151],[144.43704223632824,43.92707824707026],[144.43785095214847,43.92801666259775],[144.4385375976565,43.9283676147462],[144.4390106201172,43.928775787353565],[144.43980407714844,43.9293060302735],[144.44012451171886,43.929718017578224],[144.44093322753906,43.9301872253419],[144.44149780273438,43.930656433105575],[144.44149780273438,43.93112945556639],[144.4418182373048,43.931541442871136],[144.44189453125,43.93206787109374],[144.44197082519554,43.932479858398445],[144.4417266845703,43.93265533447264],[144.4413299560547,43.933128356933715],[144.4413299560547,43.93347930908208],[144.4405517578125,43.93328475952141],[144.44036865234375,43.93351364135741],[144.44015502929688,43.933734893798885],[144.439910888672,43.933959960937486],[144.43959045410156,43.93416213989262],[144.43927001953125,43.93432617187495],[144.43894958496105,43.934444427490234],[144.43865966796875,43.93452835083015],[144.43743896484386,43.934455871582095],[144.4366455078126,43.934341430664055],[144.43539428710938,43.933742523193395],[144.43510437011741,43.93367385864257],[144.43482971191406,43.933769226074205],[144.434539794922,43.93390274047851],[144.4342041015626,43.9340209960938],[144.4338378906251,43.93393325805669],[144.4334411621095,43.933887481689446],[144.433074951172,43.933845520019595],[144.43272399902344,43.933769226074205],[144.43177795410156,43.933845520019595],[144.4301757812501,43.933845520019595],[144.42877197265628,43.93359375],[144.42848205566418,43.93378829956059],[144.4281005859376,43.93388366699223],[144.42787170410168,43.933940887451236],[144.42765808105491,43.93398666381847],[144.42726135253906,43.93423080444329],[144.42678833007812,43.93419265747082],[144.42625427246094,43.93416976928715],[144.4257049560547,43.934154510498104],[144.4251708984375,43.93410491943371],[144.42469787597656,43.934013366699205],[144.4242095947266,43.934154510498104],[144.4237518310547,43.934299468994155],[144.42349243164074,43.93436431884764],[144.42337036132812,43.93439483642576],[144.4230194091797,43.934352874755916],[144.4226837158203,43.93421936035163],[144.422332763672,43.93417358398436],[144.4219665527345,43.93418121337891],[144.4216308593751,43.934249877929744],[144.42129516601562,43.93439102172863],[144.42091369628906,43.93443679809568],[144.42050170898438,43.934444427490234],[144.42007446289074,43.93444824218754],[144.41961669921875,43.93449401855478],[144.4192352294922,43.934684753418075],[144.41888427734398,43.934989929199276],[144.4185485839845,43.93532943725599],[144.4182281494141,43.93573760986334],[144.41780090332043,43.9360885620117],[144.4173126220703,43.936367034912095],[144.41679382324241,43.93651962280266],[144.4163055419922,43.936431884765554],[144.4158630371095,43.93639755249022],[144.41543579101562,43.93640899658214],[144.41502380371094,43.93651199340832],[144.41458129882812,43.936687469482536],[144.41412353515648,43.93689727783209],[144.41358947753918,43.937007904052784],[144.4130859375,43.93711471557617],[144.41262817382824,43.93699645996087],[144.41220092773438,43.93701171874998],[144.4118194580078,43.93719482421869],[144.41136169433594,43.93734741210949],[144.41085815429688,43.9374732971191],[144.41030883789085,43.93755722045905],[144.40982055664062,43.93774795532232],[144.40933227539062,43.93790435791028],[144.40887451171875,43.93805313110346],[144.40847778320312,43.93821716308597],[144.40814208984375,43.938461303710994],[144.4079132080078,43.938804626464886],[144.4079132080078,43.939197540283125],[144.4081268310547,43.939529418945305],[144.40838623046875,43.939826965332145],[144.40867614746094,43.940093994140625],[144.40882873535168,43.94041061401371],[144.40875244140625,43.94057464599619],[144.408660888672,43.94076156616211],[144.4082641601564,43.94110870361333],[144.40771484375,43.94125747680673],[144.40719604492188,43.94115066528318],[144.4066619873047,43.94105911254893],[144.40615844726574,43.940879821777344],[144.40565490722656,43.94083404541014],[144.4055328369143,43.94082641601563],[144.40513610839844,43.940795898437614],[144.4047088623047,43.94066238403331],[144.40432739257812,43.94053649902347],[144.40399169921875,43.94039535522462],[144.40359497070312,43.940345764160185],[144.4031524658203,43.94050979614269],[144.4026794433596,43.940608978271534],[144.40223693847656,43.940578460693345],[144.40184020996094,43.940559387207095],[144.40150451660156,43.94055557250976],[144.40118408203136,43.94058227539074],[144.40084838867188,43.94068145751951],[144.40049743652344,43.94084930419923],[144.40008544921875,43.94105148315442],[144.3995513916016,43.941181182861385],[144.3990020751953,43.94137954711918],[144.39840698242188,43.94155883789074],[144.39773559570324,43.941654205322365],[144.3970489501953,43.94173049926758],[144.39646911621094,43.94193649291997],[144.3958740234376,43.942134857177784],[144.39520263671875,43.94220733642577],[144.39451599121105,43.94217681884765],[144.39385986328125,43.94204711914066],[144.3931884765626,43.94217300415045],[144.3925323486328,43.94221496582032],[144.3919219970703,43.94222259521489],[144.39138793945312,43.94222259521489],[144.3909149169923,43.94222259521489],[144.39051818847668,43.94224929809566],[144.39016723632812,43.94235229492186],[144.3898162841797,43.94246673583988],[144.38946533203125,43.94246673583988],[144.38851928710938,43.94252777099602],[144.38691711425793,43.94252777099602],[144.38619995117188,43.94305419921885],[144.38563537597656,43.94334793090832],[144.38523864746094,43.94364166259776],[144.38502502441406,43.943912506103636],[144.38485717773438,43.944080352783274],[144.3846435546875,43.94419860839855],[144.38442993164074,43.9443397521972],[144.38458251953136,43.94495010375975],[144.38409423828125,43.94495010375975],[144.38362121582043,43.944595336914155],[144.38270568847668,43.944507598877074],[144.38279724121094,43.94413375854503],[144.38221740722656,43.94389343261718],[144.38182067871094,43.94414901733391],[144.3813476562501,43.94443893432623],[144.38099670410168,43.944736480712876],[144.3803558349612,43.94509124755863],[144.37986755371094,43.945205688476506],[144.379150390625,43.945499420166],[144.3785095214845,43.945972442627024],[144.37843322753906,43.94644165039067],[144.37860107421875,43.946723937988224],[144.37879943847656,43.94702529907227],[144.3789520263672,43.94737625122081],[144.379150390625,43.947704315185604],[144.37930297851562,43.94801712036132],[144.37939453125,43.948284149169965],[144.3793182373047,43.94851303100596],[144.37896728515625,43.94874954223633],[144.37864685058616,43.94910430908208],[144.37835693359375,43.94943237304688],[144.37809753417983,43.94970703125004],[144.3778076171875,43.949913024902465],[144.37751770019543,43.95003128051769],[144.377197265625,43.95012664794931],[144.37686157226562,43.95017623901371],[144.37654113769554,43.95017623901371],[144.3762207031251,43.950164794921825],[144.3759002685547,43.95017623901371],[144.37554931640625,43.9502296447755],[144.37518310546875,43.950325012207145],[144.37474060058594,43.95036315917969],[144.3743133544923,43.95036315917969],[144.37393188476574,43.95035934448247],[144.3735809326172,43.95035171508794],[144.37319946289062,43.95030212402355],[144.37271118164062,43.950325012207145],[144.37226867675784,43.950462341308636],[144.37184143066418,43.95067596435559],[144.3702392578125,43.950950622558594],[144.36936950683605,43.9511833190919],[144.3684844970703,43.95171356201171],[144.36802673339855,43.95201110839854],[144.36756896972656,43.9521903991699],[144.3671112060547,43.95241546630869],[144.36614990234375,43.95229721069345],[144.36614990234375,43.95182800292979],[144.36679077148438,43.951709747314496],[144.36807250976562,43.95106506347667],[144.36856079101574,43.95094680786138],[144.36883544921875,43.95080947875986],[144.36938476562503,43.95038986206067],[144.36953735351574,43.94997787475591],[144.36938476562503,43.94950866699223],[144.36865234375,43.949153900146484],[144.3685760498048,43.94891738891596],[144.3680114746095,43.94880294799809],[144.36769104003906,43.94844818115229],[144.36705017089855,43.9485092163086],[144.3665008544923,43.94874191284178],[144.36618041992188,43.94897842407225],[144.3658447265625,43.949672698974716],[144.3654022216797,43.949859619140675],[144.3648223876953,43.95000457763671],[144.36412048339844,43.950107574462876],[144.363525390625,43.95029449462903],[144.36322021484386,43.95066070556646],[144.36294555664062,43.9510383605957],[144.3626403808595,43.951320648193416],[144.36228942871105,43.95147323608403],[144.36195373535156,43.95167922973638],[144.36160278320312,43.95193862915049],[144.36123657226562,43.95220947265634],[144.36083984375,43.95247650146485],[144.3604278564453,43.95275115966801],[144.3600311279297,43.953311920165966],[144.36013793945335,43.95394134521495],[144.36094665527355,43.95399856567388],[144.3617401123048,43.95399856567388],[144.36195373535156,43.954814910888786],[144.36233520507812,43.95486450195318],[144.36262512207057,43.95488357543944],[144.3629608154297,43.95509338378916],[144.3633270263672,43.95530700683588],[144.36367797851562,43.955177307128906],[144.36404418945312,43.954902648925874],[144.3644561767578,43.9547119140626],[144.36500549316406,43.954654693603494],[144.36546325683594,43.954566955566406],[144.36575317382812,43.95435333251945],[144.36654663085938,43.95435333251945],[144.3673553466797,43.95400238037109],[144.36807250976562,43.95379257202153],[144.3685760498048,43.953544616699325],[144.36920166015625,43.95344924926768],[144.3698272705078,43.95341873168949],[144.37039184570312,43.95313644409178],[144.37127685546886,43.95294952392584],[144.37173461914062,43.95267486572265],[144.37225341796875,43.952480316162166],[144.37290954589844,43.95231628417969],[144.37359619140625,43.95214843750006],[144.37417602539062,43.95209503173827],[144.37466430664074,43.951988220214886],[144.37506103515636,43.95188140869134],[144.375457763672,43.951766967773494],[144.3759002685547,43.95169067382806],[144.37637329101574,43.951614379882855],[144.37684631347656,43.95147323608403],[144.3773956298828,43.95136260986327],[144.37796020507812,43.9512367248535],[144.37852478027355,43.95113754272465],[144.3789825439453,43.951023101806584],[144.3793487548828,43.95088958740246],[144.37973022460938,43.95080566406256],[144.38014221191406,43.95068359375011],[144.38056945800793,43.95050430297851],[144.3810577392578,43.95028305053711],[144.381561279297,43.950027465820305],[144.38275146484375,43.949760437011825],[144.383544921875,43.949760437011825],[144.38442993164074,43.94929122924815],[144.3863525390625,43.94929122924815],[144.38667297363293,43.9489974975587],[144.38827514648438,43.9484100341798],[144.38844299316418,43.94839859008788],[144.38906860351562,43.94835281372065],[144.39022827148438,43.94773483276377],[144.3907470703125,43.94765090942381],[144.39126586914077,43.94769668579105],[144.39187622070324,43.94767761230462],[144.3925323486328,43.94751358032232],[144.39320373535168,43.947299957275455],[144.3937225341798,43.94701004028314],[144.39422607421875,43.94675445556641],[144.39474487304688,43.946628570556584],[144.3952178955078,43.94649887084961],[144.3956756591798,43.94643402099615],[144.3961639404297,43.94644165039067],[144.39669799804688,43.946491241455064],[144.39717102050793,43.946369171142614],[144.3976287841797,43.94613647460949],[144.39813232421886,43.94587707519534],[144.3987579345703,43.94566726684582],[144.3993682861328,43.94552993774412],[144.39988708496105,43.945411682128885],[144.40040588378918,43.94524765014659],[144.4020538330078,43.945228576660156],[144.40293884277355,43.944816589355405],[144.4038238525393,43.94464111328125],[144.4048614501953,43.94446563720701],[144.40513610839844,43.944263458251996],[144.40711975097668,43.94379425048833],[144.40785217285168,43.9436149597168],[144.40840148925804,43.94349670410156],[144.40936279296886,43.94343948364257],[144.41024780273438,43.94314575195312],[144.41128540039074,43.94302749633789],[144.41169738769543,43.94285202026365],[144.4131317138672,43.94261550903332],[144.4136199951173,43.94232177734386],[144.41505432128906,43.94190979003917],[144.41545104980491,43.9418525695802],[144.4162597656251,43.94161605834973],[144.41680908203136,43.94161605834973],[144.41754150390625,43.9416770935058],[144.4184112548828,43.94132232666021],[144.41914367675793,43.94132232666021],[144.41978454589844,43.941265106201286],[144.42080688476574,43.94094085693366],[144.42124938964855,43.941020965576215],[144.42176818847668,43.940956115722756],[144.42210388183594,43.94036865234382],[144.42346191406273,43.94036865234382],[144.42453002929688,43.9404869079591],[144.4249267578125,43.9403076171875],[144.42536926269557,43.94016647338867],[144.42581176757824,43.93999099731444],[144.42628479003906,43.93980026245116],[144.42684936523438,43.939666748046804],[144.4274139404297,43.93946456909184],[144.42799377441406,43.93931198120122],[144.4285888671875,43.939331054687514],[144.42913818359375,43.93926620483404],[144.42964172363293,43.93921279907227],[144.4301300048828,43.93924331665039],[144.43055725097668,43.939250946044915],[144.43087768554688,43.93911361694342],[144.4311981201172,43.93889999389653],[144.43157958984375,43.938686370849595],[144.4320068359375,43.93847656250011],[144.43263244628918,43.938404083252074],[144.43328857421875,43.93845748901368],[144.43386840820312,43.93856430053721],[144.43426513671875,43.938297271728516],[144.4351501464845,43.938240051269595],[144.4360504150393,43.938068389892564],[144.43637084960938,43.93782043457031],[144.4366912841798,43.93761062622081],[144.43716430664062,43.937854766845646],[144.43780517578136,43.93773651123057],[144.43869018554688,43.93750000000004],[144.439208984375,43.937164306640724],[144.4396209716797,43.93701934814453],[144.44009399414074,43.93690490722661],[144.44061279296875,43.936832427978565],[144.44113159179688,43.93671035766595],[144.44163513183605,43.93660736083996],[144.44219970703136,43.936599731445405],[144.44300842285156,43.93648147583018],[144.4436492919922,43.93636322021489],[144.4457244873047,43.93636322021489],[144.44668579101562,43.93577575683599],[144.44796752929688,43.93577575683599],[144.4489288330078,43.935657501220746],[144.45162963867188,43.934772491455185],[144.452117919922,43.934772491455185],[144.45263671875,43.93466567993163],[144.453125,43.93467712402355],[144.4535675048828,43.934570312499986],[144.4545440673828,43.934455871582095],[144.45550537109398,43.93416213989262],[144.4569549560547,43.93410491943371],[144.45782470703136,43.93381118774426],[144.4590301513672,43.933692932128956],[144.45991516113293,43.93363189697264],[144.46166992187514,43.933105468750036],[144.46270751953125,43.93339920043951],[144.46430969238293,43.93304443359376],[144.46519470214844,43.93301391601561],[144.46560668945312,43.93270111083989],[144.4657440185547,43.932601928711044],[144.4661102294922,43.932601928711044],[144.4662322998048,43.932601928711044],[144.4664306640626,43.932537078857415],[144.46678161621105,43.93242645263666],[144.4680633544922,43.932193756103494],[144.46975708007812,43.93183898925791],[144.47067260742188,43.93168640136718],[144.4711914062501,43.93160247802745],[144.47259521484375,43.93146514892571],[144.47312927246105,43.93140411376957],[144.47364807128918,43.93117904663078],[144.47381591796898,43.931056976318345],[144.4741668701172,43.93080139160161],[144.4746551513673,43.93088912963874],[144.47520446777355,43.93098449707035],[144.4759216308596,43.93080520629878],[144.4761199951173,43.93059158325206],[144.47648620605491,43.93021774292004],[144.47703552246094,43.930099487304815],[144.47694396972668,43.93043136596679],[144.47688293457043,43.930629730224595],[144.47760009765625,43.93068695068369],[144.47808837890636,43.93021774292004],[144.4786376953126,43.930335998535156],[144.47903442382824,43.93001174926769],[144.47920227050793,43.92986679077148],[144.47967529296875,43.92980575561534],[144.47982788085938,43.92985153198236],[144.48008728027344,43.929924011230575],[144.48048400878906,43.929924011230575],[144.4811248779298,43.92980575561534],[144.4817657470703,43.92980575561534],[144.48191833496097,43.92963027954111],[144.48329162597656,43.9294548034669],[144.48393249511741,43.929279327392514],[144.48448181152344,43.92951202392587],[144.48504638671875,43.9294548034669],[144.4860839843751,43.929279327392514],[144.48672485351562,43.92910003662114],[144.48745727539062,43.92904281616223],[144.48835754394543,43.928886413574276],[144.4888153076172,43.92880630493171],[144.48907470703148,43.92840957641607],[144.48951721191418,43.92829513549816],[144.4899444580078,43.92811965942394],[144.49038696289062,43.92793273925788],[144.49079895019554,43.92780685424804],[144.49104309082043,43.92765808105463],[144.49107360839844,43.92733383178723],[144.49156188964866,43.92726898193352],[144.49156188964866,43.92679977416986],[144.49171447753906,43.926567077636726],[144.49203491210938,43.92685317993162],[144.49234008789074,43.927120208740334],[144.4926300048828,43.927383422851605],[144.49371337890636,43.927337646484375],[144.49464416503918,43.92720031738285],[144.49496459960938,43.92706680297857],[144.495361328125,43.927013397216776],[144.4957275390625,43.927009582519574],[144.4960479736328,43.927013397216776],[144.49632263183616,43.92700576782225],[144.4965820312501,43.926986694336],[144.49688720703125,43.92697143554693],[144.49722290039062,43.92696380615238],[144.49758911132812,43.926959991455206],[144.49795532226562,43.926952362060646],[144.4983367919922,43.92691040039062],[144.49871826171875,43.92679595947272],[144.49911499023438,43.92672729492187],[144.49951171875,43.92673873901377],[144.4998779296875,43.92674255371094],[144.50027465820312,43.926658630371215],[144.50071716308616,43.926532745361364],[144.5013122558595,43.92646408081054],[144.50198364257812,43.92648696899419],[144.50242614746116,43.9265480041505],[144.5027618408203,43.92657470703125],[144.50308227539062,43.926494598388736],[144.50415039062523,43.92652893066406],[144.50494384765636,43.92652893066406],[144.50582885742188,43.92635345458983],[144.5064697265626,43.92611694335948],[144.5071258544922,43.9258422851563],[144.5076293945314,43.926013946533324],[144.5081787109376,43.92597961425781],[144.508758544922,43.925876617431626],[144.5093231201173,43.925838470458935],[144.50985717773438,43.925819396972706],[144.51034545898438,43.92575454711919],[144.5123443603518,43.92563629150394],[144.5135498046876,43.92563629150394],[144.51411437988293,43.92557907104497],[144.51498413085938,43.92540359497081],[144.51521301269554,43.92497634887702],[144.51565551757824,43.92488098144535],[144.51611328125,43.92471313476567],[144.5166015625001,43.92452239990238],[144.5171813964845,43.92441940307623],[144.517822265625,43.92451858520508],[144.51837158203125,43.92466735839843],[144.5188903808595,43.92471313476567],[144.5193634033203,43.92472076416021],[144.5197906494143,43.924701690673764],[144.5201416015625,43.9246330261231],[144.5206298828125,43.9246330261231],[144.5223846435547,43.924278259277344],[144.52366638183605,43.92416000366211],[144.5249481201173,43.92416000366211],[144.5258331298828,43.923984527587876],[144.5270233154297,43.92386627197264],[144.52862548828136,43.92380905151368],[144.529754638672,43.92345428466792],[144.53150939941406,43.92333984375004],[144.53271484375,43.923046112060554],[144.5347137451173,43.92286682128918],[144.5362548828126,43.92271804809575],[144.5367584228518,43.92275238037109],[144.5372772216797,43.922683715820426],[144.53775024414074,43.92255401611328],[144.5382080078125,43.922508239746044],[144.5386505126953,43.92245864868164],[144.5390625000001,43.92234420776372],[144.53950500488293,43.92221069335944],[144.54002380371105,43.9220657348634],[144.5407257080078,43.92208480834961],[144.54136657714855,43.922161102295014],[144.54200744628906,43.92214202880858],[144.54261779785156,43.921924591064496],[144.5440673828126,43.92201232910161],[144.54486083984375,43.921955108642635],[144.54534912109398,43.92160034179688],[144.5458984375,43.9217758178711],[144.5458984375,43.92224884033209],[144.54653930664074,43.92206954956054],[144.54670715332043,43.9217758178711],[144.54759216308594,43.9217758178711],[144.54878234863304,43.921482086181655],[144.5511932373047,43.92107391357428],[144.55206298828136,43.92095565795903],[144.5530548095703,43.92093276977538],[144.5518798828126,43.91325759887689],[144.55166625976574,43.909061431884716],[144.55172729492188,43.90492248535166],[144.55242919921886,43.8996047973634],[144.55503845214844,43.89270019531263],[144.5555877685547,43.89025115966809],[144.555877685547,43.88642883300792],[144.5555114746095,43.881023406982365],[144.55612182617188,43.870037078857486],[144.55667114257824,43.86457443237316],[144.55755615234398,43.86070632934575],[144.55979919433594,43.85507965087896],[144.56051635742188,43.8507804870606],[144.56039428710938,43.84788894653319],[144.55984497070335,43.845516204834105],[144.55857849121105,43.84254837036133],[144.5570068359376,43.840366363525504],[144.5559539794922,43.83951568603527],[144.55361938476574,43.83829116821281],[144.5494842529297,43.83694076538097],[144.53929138183605,43.835639953613345],[144.5306396484375,43.832935333252045],[144.52769470214844,43.83251953125001],[144.51870727539074,43.83186340332042],[144.5143585205078,43.830806732177834],[144.51187133789062,43.82944488525392],[144.50865173339844,43.82668685913085],[144.506072998047,43.82333755493169],[144.50485229492188,43.82071304321301],[144.50291442871094,43.81373214721679],[144.50074768066418,43.80796432495112],[144.50012207031253,43.80502319335936],[144.49972534179688,43.800445556640625],[144.49935913085938,43.788211822509794],[144.49880981445335,43.7840309143067],[144.49803161621094,43.78163909912116],[144.4959259033203,43.7775382995606],[144.49533081054688,43.77494812011722],[144.49488830566406,43.7691078186035],[144.49472045898438,43.75669097900394],[144.49409484863293,43.7506103515626],[144.49278259277344,43.74651718139659],[144.48908996582043,43.73952484130865],[144.48805236816406,43.73517990112309],[144.48698425292991,43.71988677978528],[144.48480224609378,43.70806121826185],[144.48489379882824,43.70527267456059],[144.48643493652355,43.6973762512207],[144.48683166503918,43.6934585571289],[144.4865264892578,43.688182830810476],[144.4848175048828,43.67466354370116],[144.4719696044923,43.68279266357421],[144.4633789062501,43.68961334228508],[144.4520263671875,43.694549560546974],[144.4449462890625,43.69680023193364],[144.4397430419923,43.69760131835948],[144.43252563476562,43.69793701171879],[144.41973876953125,43.697952270507926],[144.4108123779297,43.69750213623045],[144.40737915039062,43.69695663452142],[144.40428161621094,43.695964813232536],[144.39915466308594,43.6927146911622],[144.39779663085938,43.692165374755966],[144.39474487304688,43.69159317016613],[144.3914794921876,43.69165039062504],[144.38006591796875,43.69376373291027],[144.34954833984375,43.703479766845696],[144.34361267089855,43.705944061279276],[144.3358917236328,43.709648132324155]]],[[[144.37120056152366,43.94974517822275],[144.3716278076173,43.949665069580185],[144.37193298339844,43.94976806640635],[144.37217712402355,43.94988250732427],[144.3725128173828,43.949890136718786],[144.373046875,43.949748992919915],[144.37351989746105,43.949626922607514],[144.37399291992188,43.94953155517588],[144.37445068359398,43.94947433471691],[144.37481689453125,43.94946670532238],[144.37510681152344,43.94950103759772],[144.37542724609386,43.949527740478516],[144.37588500976562,43.94951248168944],[144.3765106201172,43.949386596679794],[144.37718200683605,43.94910049438488],[144.37742614746094,43.94884490966797],[144.37738037109386,43.948604583740234],[144.37721252441406,43.94836044311522],[144.37698364257824,43.94813537597661],[144.37661743164074,43.94798660278318],[144.37617492675793,43.94781494140636],[144.37567138671875,43.94771957397472],[144.37542724609386,43.94764709472669],[144.37518310546875,43.9475975036621],[144.37490844726562,43.94752883911145],[144.37460327148438,43.94753265380858],[144.3738250732422,43.9475975036621],[144.37286376953125,43.9474830627442],[144.37246704101562,43.94777679443365],[144.37191772460938,43.94789123535158],[144.37127685546886,43.94789123535158],[144.37054443359375,43.94812774658203],[144.3699951171875,43.94783401489257],[144.369354248047,43.9480094909668],[144.3692169189453,43.94834899902349],[144.3692169189453,43.948627471923885],[144.36967468261741,43.94922256469732],[144.36990356445324,43.949760437011825],[144.37014770507812,43.949901580810554],[144.3704528808595,43.9499397277832],[144.37078857421875,43.949859619140675],[144.37120056152366,43.94974517822275]]]]};
    let __geo__1 = {"type":"MultiPolygon","coordinates":[[[[144.56312561035168,43.60795211791992],[144.5579071044922,43.610736846923935],[144.55499267578125,43.61178970336919],[144.54998779296886,43.61253356933606],[144.53955078125,43.61311340332041],[144.5345153808595,43.61416625976568],[144.5303955078125,43.61628341674799],[144.52471923828125,43.62044525146484],[144.5229949951172,43.62249755859375],[144.52066040039062,43.627571105957145],[144.5157928466798,43.64527130126958],[144.5147705078125,43.64817810058603],[144.51329040527347,43.65071487426762],[144.51142883300793,43.652595520019645],[144.5067901611328,43.65619277954101],[144.4980010986328,43.65939712524415],[144.49151611328125,43.662601470947386],[144.4891052246095,43.66421127319334],[144.48701477050793,43.66631698608396],[144.4854736328126,43.66876220703131],[144.48475646972668,43.67126464843761],[144.4848175048828,43.67466354370116],[144.4865264892578,43.688182830810476],[144.48683166503918,43.6934585571289],[144.48643493652355,43.6973762512207],[144.48489379882824,43.70527267456059],[144.48480224609378,43.70806121826185],[144.48698425292991,43.71988677978528],[144.48805236816406,43.73517990112309],[144.48908996582043,43.73952484130865],[144.49278259277344,43.74651718139659],[144.49409484863293,43.7506103515626],[144.49472045898438,43.75669097900394],[144.49488830566406,43.7691078186035],[144.49533081054688,43.77494812011722],[144.4959259033203,43.7775382995606],[144.49803161621094,43.78163909912116],[144.49880981445335,43.7840309143067],[144.49935913085938,43.788211822509794],[144.49972534179688,43.800445556640625],[144.50012207031253,43.80502319335936],[144.50074768066418,43.80796432495112],[144.50291442871094,43.81373214721679],[144.50485229492188,43.82071304321301],[144.506072998047,43.82333755493169],[144.50865173339844,43.82668685913085],[144.51187133789062,43.82944488525392],[144.5143585205078,43.830806732177834],[144.51870727539074,43.83186340332042],[144.52769470214844,43.83251953125001],[144.5306396484375,43.832935333252045],[144.53929138183605,43.835639953613345],[144.5494842529297,43.83694076538097],[144.55361938476574,43.83829116821281],[144.5559539794922,43.83951568603527],[144.5570068359376,43.840366363525504],[144.55857849121105,43.84254837036133],[144.55984497070335,43.845516204834105],[144.56039428710938,43.84788894653319],[144.56051635742188,43.8507804870606],[144.55979919433594,43.85507965087896],[144.55755615234398,43.86070632934575],[144.55667114257824,43.86457443237316],[144.55612182617188,43.870037078857486],[144.5555114746095,43.881023406982365],[144.5675811767578,43.87612915039072],[144.57205200195335,43.87406539916998],[144.5736541748047,43.87316131591795],[144.57562255859375,43.871551513671996],[144.57725524902355,43.870574951171996],[144.58270263671878,43.86892700195313],[144.58494567871094,43.86804580688471],[144.5892791748048,43.86580276489256],[144.59327697753918,43.864097595214965],[144.5987091064453,43.86113357543955],[144.6026611328125,43.85931015014649],[144.60464477539062,43.85809707641613],[144.61267089843773,43.85244750976573],[144.6146240234376,43.85026931762707],[144.61993408203136,43.842784881591854],[144.62112426757824,43.84078979492194],[144.62188720703136,43.83875274658215],[144.62222290039074,43.83530044555663],[144.62261962890636,43.833404541015724],[144.62353515625,43.831443786621136],[144.62423706054688,43.83050918579102],[144.62596130371094,43.82892608642584],[144.626953125,43.82830810546874],[144.63322448730472,43.826190948486385],[144.63479614257835,43.82518386840819],[144.63912963867188,43.82114410400394],[144.64183044433594,43.817008972168075],[144.64334106445312,43.815097808837955],[144.64596557617188,43.81235122680658],[144.64788818359375,43.810680389404304],[144.6499481201172,43.80923843383795],[144.65484619140636,43.8065757751466],[144.66093444824241,43.80203628540051],[144.66307067871105,43.80069351196301],[144.6653747558595,43.7997055053711],[144.67256164550804,43.79779052734374],[144.67474365234375,43.79673767089849],[144.6802978515625,43.793479919433636],[144.6816864013672,43.79224777221684],[144.6834411621096,43.79011917114263],[144.68475341796875,43.78884887695312],[144.69105529785156,43.78471755981443],[144.69403076171875,43.7821083068848],[144.7008056640626,43.77552032470709],[144.70281982421875,43.773773193359354],[144.7049560546875,43.77222824096684],[144.70709228515648,43.77112197875987],[144.711883544922,43.76948547363293],[144.71498107910168,43.768798828124986],[144.71760559082043,43.768478393554744],[144.71833801269554,43.768386840820234],[144.71731567382812,43.75062561035167],[144.7172088623048,43.723388671874986],[144.71768188476562,43.717849731445256],[144.71836853027355,43.71443176269529],[144.71951293945324,43.711658477783196],[144.72190856933594,43.707641601562564],[144.72264099121094,43.704822540283196],[144.72268676757812,43.7017478942871],[144.7217559814453,43.69758987426757],[144.7257080078125,43.693191528320405],[144.72689819335938,43.69123458862298],[144.727294921875,43.69017028808605],[144.72752380371105,43.689128875732536],[144.72755432128918,43.68705368041992],[144.7271423339845,43.68553543090818],[144.72698974609386,43.68495941162114],[144.72618103027355,43.68318557739267],[144.72354125976574,43.682243347167955],[144.71514892578136,43.68004608154306],[144.7119140625001,43.678413391113274],[144.70770263671886,43.67575836181641],[144.70582580566418,43.67394638061523],[144.70260620117188,43.66960525512702],[144.69766235351562,43.66413116455083],[144.69435119628918,43.6610679626466],[144.69075012207043,43.65849685668947],[144.6811981201173,43.65403747558598],[144.67288208007812,43.6523551940918],[144.67037963867188,43.651588439941435],[144.66830444335938,43.650299072265724],[144.66436767578148,43.64707183837903],[144.65293884277355,43.64185333251958],[144.63796997070312,43.63372421264655],[144.63536071777344,43.63302230834971],[144.6325683593751,43.63300704956066],[144.62278747558616,43.63542556762701],[144.61993408203136,43.63580703735356],[144.61700439453125,43.635726928710994],[144.6141357421875,43.63509368896482],[144.6117401123048,43.63397216796874],[144.6042022705078,43.62905883789069],[144.6005096435548,43.625904083252],[144.59039306640636,43.61923217773432],[144.5862274169923,43.61508941650389],[144.58474731445312,43.61390304565436],[144.57801818847668,43.61016082763676],[144.57440185546886,43.60868072509772],[144.5706024169922,43.60786819458017],[144.56703186035156,43.60766601562498],[144.56312561035168,43.60795211791992]]]]};
    window.relativePath = ".";
    let mapClick = false;
    let mapOnclick = function() {};
    let obj = {
        theMarkerInstance: null,
        theDrawerInstance: null,
        ShowOneLayerInstance: null,
        TimeSliderInstance: null,
    };
    // 用于将一个 geojson 送给上一级页面，以完成 插入或修改
    window.upload = function() {}

    window.LeftTopLayer = new (class  {
        constructor() {
            this.from = {
                map: {
                    name: 'map',
                    source: '‘地图'
                },
                GeoJsonManager: {
                    name: 'GeoJsonManager',
                    source: 'GeoJSON'
                },
                geoman: {
                    name: 'geoman',
                    source: '绘图'
                }
            };
            this.map = null;
            this.layer = null;
            this.dom = `<div style="padding: 20px;">$dom$</div>`;
            this.options = {};
            this.optionsLength = 0;
        }
        open() {
            if (this.layer) {
                layer.close(this.layer);
            }
            if (!this.optionsLength) return;
            this.layer = layer.open({
                // title: '',
                type: 1,
                offset: 'lb',
                content: this.dom,
                shade: false,
                area: ['600px']
            });
            let $this = this;
            let dom = $("[tar='LeftTopLayer']");
            dom.find('input[type="checkbox"]').on('click',function (e) {
                let id = e.target.getAttribute('tar');
                $this.options[id].checked = !$this.options[id].checked;
            });
            // 从列表移除
            dom.find("button[type='removeFromList']").on('click',function (e) {
                let id = e.target.getAttribute('tar');
                delete $this.options[id];
                $this.render().open();
            });
            // 从地图中移除，这个包含上面的操作
            dom.find("button[type='removeFromMap']").on('click',function (e) {
                let id = e.target.getAttribute('tar');
                switch ($this.options[id].from) {
                    case $this.from.map.name:
                        $this.map.removeLayer($this.map._layers[id]);
                        break;
                    case $this.from.GeoJsonManager.name:
                        geoJsonManager.remove(id);
                        break;
                    case $this.from.geoman.name:
                        $this.map.removeLayer($this.map._layers[id]);
                        break;
                }
                delete $this.options[id];
                $this.render().open();
            });
            dom.find("button[type='upload']").on('click',function (e) {
                let id = e.target.getAttribute('tar');
                window.upload($this.options[id].obj);
            });
            dom.find("button[type='uploadAllPolygon']").on('click',function (e) {

            });
        }
        addOption(id,label,obj,from) {
            this.options[id] = {
                id,label,obj,checked: true,from,
                dom: `<input tar="${id}" $checked$ type="checkbox" name="${id}" value="Bike">$source$_${label}
                        <button tar="${id}" type="removeFromList">从列表中移除</button>
                        <button tar="${id}" type="removeFromMap">从地图中移除</button>
                        <button tar="${id}" type="upload">提交</button><br/>`
            };
            this.render();
            return this;
        }

        render() {
            this.optionsLength = 0;
            let dom = "";
            for (let i in this.options) {
                dom += this.options[i].dom
                    .replace('$checked$',this.options[i].checked ? 'checked' : '')
                    .replace('$source$',this.from[this.options[i].from].source);
                this.optionsLength++;
            }
            this.dom = `<div tar="LeftTopLayer" style="padding: 20px;">${dom}<div><button type="uploadAllPolygon">合并所有polygon后提交</button></div></div>`;
            return this;
        }
    });

    // 这里放置所有提供给上一个页面的 接口
    window.apis = {};
    let pg = new PromiseQueue(obj)            // PromiseQueue.js
        // 初始化 核心 构造器                    // index.js
        .add(function ($this,cb) {
            $this.obj.theIfrInstance = ifrInstance(window,function (action) {
                console.log(action);
                let map = window.apis.$this.obj.theIfrInstance.getMap();
                if (action.target === "map" && action.type === "click") {
                    if (mapClick) {
                        mapOnclick(action);
                    }
                } else if (action.target === "drawer" && action.type === "click") {
                    window.LeftTopLayer.addOption(
                        action.data.layerId,
                        action.data.layerId,
                        action.data.geoJson,
                        window.LeftTopLayer.from.map.name).open();
                    GeoJson.fitBound(map,geo._bounds);
                    GeoJson.flash(geo);
                } else if (action.target === "geoman" && action.type === 'click') {
                    window.LeftTopLayer.addOption(
                        action.data.layerId,
                        action.data.layerId,
                        action.data.geoJson,
                        window.LeftTopLayer.from.geoman.name).open();

                } else if (action.target === "GeoJsonManager" && action.type === "click") {
                    window.LeftTopLayer.addOption(
                        action.data.layerId,
                        action.data.layerId,
                        action.data.geoJson,
                        window.LeftTopLayer.from.GeoJsonManager.name).open();
                }
            },{center: {lat: 34.813803317113155,lng: -256.22182060338395}});
            cb();
        })
        // 初始化地图，主要是加载 相关的 js 和 css // index.js
        .add(function ($this,cb) {
            $this.obj.theIfrInstance.initFrameBase(cb);
        })
        // 等待 L 脚本完成加载                   // index.js
        .add(function ($this,cb) {
            let id = setInterval(function () {
                $this.obj.theIfrInstance.testRun("L",function () {
                    clearInterval(id);
                    cb();
                });
            });
        })
        // 这个东西需要在 L 之后 map 定义前就载入
        // 初始化 geoman                       // geoman.js
        .add(function ($this,cb) {
            $this.obj.theGeomanInstance = geoman().init($this.obj.theIfrInstance,cb);
        })
        // 初始化地图元素                       // index.js
        .add(function ($this,cb) {
            $this.obj.theIfrInstance.initMapDom("map");
            cb();
        })
        // 初始化 marker                       // marker.js
        .add(function ($this,cb) {
            $this.obj.theMarkerInstance = marker().init($this.obj.theIfrInstance,cb);
        })
        // 初始化 marker                       // marker.js
        .add(function ($this,cb) {
            $this.obj.theGrahpicInstance = Graphic().init($this.obj.theIfrInstance,cb);
        })
        // // 初始化 drawer                       // draw.js
        // .add(function ($this,cb) {
        //     $this.obj.theDrawerInstance = draw().init($this.obj.theIfrInstance,cb);
        // })
        // 初始化完成，这里可以做自己的事情
        // 如果没必要用到 $this 可以使用 setCallBack 来完成
        .add(function ($this,cb) {
            // $this.obj.theDrawerInstance.initDraw();
            $this.obj.theGeomanInstance.initDraw();
            $this.obj.theGrahpicInstance.initGraphic();
            let map = $this.obj.theIfrInstance.getMap();
            window.LeftTopLayer.map = map;

            window.apis.$this = $this;
            console.log("ok");
            cb();
        })
        // .setCallBack()
        .next();
</script>
</html>